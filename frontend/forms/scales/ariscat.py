import time

import streamlit as st

from frontend.components.menu import next_router, show_button_down


def show_arescat():
    st.subheader("ü´Å –®–∫–∞–ª–∞ ARISCAT ‚Äî —Ä–∏—Å–∫ –ø–æ—Å–ª–µ–æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –ª–µ–≥–æ—á–Ω—ã—Ö –æ—Å–ª–æ–∂–Ω–µ–Ω–∏–π")

    with st.form("SCALE_ARISCAT"):
        ar_infection = st.radio(
            "–ë—ã–ª–∞ –ª–∏ —Ä–µ—Å–ø–∏—Ä–∞—Ç–æ—Ä–Ω–∞—è –∏–Ω—Ñ–µ–∫—Ü–∏—è –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π?",
            options=["–ù–µ—Ç (0 –±–∞–ª–ª–æ–≤)", "–î–∞ (+17 –±–∞–ª–ª–æ–≤)"],
            index=0
        )

        ar_anemia = st.radio(
            "–ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ –∞–Ω–µ–º–∏—è? (Hb ‚â§ 100 –≥/–ª)",
            options=["–ù–µ—Ç (0 –±–∞–ª–ª–æ–≤)", "–î–∞ (+11 –±–∞–ª–ª–æ–≤)"],
            index=0
        )

        ar_incision = st.selectbox(
            "–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è —Ö–∏—Ä—É—Ä–≥–∏—á–µ—Å–∫–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞:",
            options=["–ü–µ—Ä–∏—Ñ–µ—Ä–∏—á–µ—Å–∫–∏–π (0 –±–∞–ª–ª–æ–≤)", "–í–µ—Ä—Ö–Ω–∏–π –∞–±–¥–æ–º–∏–Ω–∞–ª—å–Ω—ã–π (+15 –±–∞–ª–ª–æ–≤)", "–í–Ω—É—Ç—Ä–∏–≥—Ä—É–¥–Ω–æ–π (+24 –±–∞–ª–ª–∞)"],
            index=0
        )

        ar_duration = st.selectbox(
            "–°–∫–æ–ª—å–∫–æ –¥–ª–∏–ª–∞—Å—å (–∏–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è) –æ–ø–µ—Ä–∞—Ü–∏—è:",
            options=["< 2 —á–∞—Å–æ–≤ (0 –±–∞–ª–ª–æ–≤)", "2‚Äì3 —á–∞—Å–∞ (+16 –±–∞–ª–ª–æ–≤)", "> 3 —á–∞—Å–æ–≤ (+23 –±–∞–ª–ª–∞)"],
            index=0
        )

        ar_emergency = st.radio(
            "–û–ø–µ—Ä–∞—Ü–∏—è —ç–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è?",
            options=["–ù–µ—Ç (0 –±–∞–ª–ª–æ–≤)", "–î–∞ (+8 –±–∞–ª–ª–æ–≤)"],
            index=0
        )
        if st.form_submit_button("‚úÖ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å"):
            # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Å—ë –≤ session_state
            st.session_state.patient_data.update({
                "ARISCAT_–ò–Ω—Ñ–µ–∫—Ü–∏—è": ar_infection,
                "ARISCAT_–ê–Ω–µ–º–∏—è": ar_anemia,
                "ARISCAT_–†–∞–∑—Ä–µ–∑": ar_incision,
                "ARISCAT_–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å": ar_duration,
                "ARISCAT_–≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è": ar_emergency
            })

            st.success("–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã, –≤—ã –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—á–∫—É")
            time.sleep(1)
            next_router()

    show_button_down()
