import time

import streamlit as st

from frontend.components.menu import next_router, show_button_down, check_scales, show_scales


def show_caprini():
    st.subheader("üßÆ –®–∫–∞–ª–∞ Caprini ‚Äî –æ—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞ –í–¢–≠–û")

    with st.form("CAPRINI_SCALE"):
        st.markdown("### ü©∫ –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã:")

        checkboxes = {
            "Caprini_–û—Ç–µ–∫–∏": "–û—Ç–µ–∫–∏ –Ω–∏–∂–Ω–∏—Ö –∫–æ–Ω–µ—á–Ω–æ—Å—Ç–µ–π",
            "Caprini_–í–∞—Ä–∏–∫–æ–∑": "–í–∞—Ä–∏–∫–æ–∑–Ω—ã–µ –≤–µ–Ω—ã",
            "Caprini_–°–µ–ø—Å–∏—Å": "–°–µ–ø—Å–∏—Å (<1 –º–µ—Å)",
            "Caprini_–ó–∞–±–æ–ª–µ–≤–∞–Ω–∏–µ_–ª–µ–≥–∫–∏—Ö": "–¢—è–∂—ë–ª–æ–µ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–µ –ª—ë–≥–∫–∏—Ö (<1 –º–µ—Å)",
            "Caprini_–ì–æ—Ä–º–æ–Ω—ã": "–û—Ä–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞—Ü–µ–ø—Ç–∏–≤—ã / –ì–ó–¢",
            "Caprini_–ë–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å": "–ë–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å / –ø–æ—Å–ª–µ—Ä–æ–¥–æ–≤—ã–π –ø–µ—Ä–∏–æ–¥ (<1 –º–µ—Å)",
            "Caprini_–ê–∫—É—à–µ—Ä—Å–∫–∏–π_–∞–Ω–∞–º–Ω–µ–∑": "–ù–µ–±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã–π –∞–∫—É—à–µ—Ä—Å–∫–∏–π –∞–Ω–∞–º–Ω–µ–∑",
            "Caprini_–ò–Ω—Ñ–∞—Ä–∫—Ç": "–û—Å—Ç—Ä—ã–π –∏–Ω—Ñ–∞—Ä–∫—Ç –º–∏–æ–∫–∞—Ä–¥–∞",
            "Caprini_–•–°–ù": "–•—Ä–æ–Ω–∏—á–µ—Å–∫–∞—è —Å–µ—Ä–¥–µ—á–Ω–∞—è –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç—å",
            "Caprini_–ü–æ—Å—Ç–µ–ª—å–Ω—ã–π": "–ü–æ—Å—Ç–µ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º (–∞–∫—Ç—É–∞–ª—å–Ω—ã–π)",
            "Caprini_–ü–æ—Å—Ç–µ–ª—å–Ω—ã–π_72—á": "–ü–æ—Å—Ç–µ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º > 72 —á–∞—Å–æ–≤",
            "Caprini_–•–∏—Ä—É—Ä–≥–∏—è_–∞–Ω–∞–º–Ω–µ–∑": "–•–∏—Ä—É—Ä–≥–∏—è –≤ –∞–Ω–∞–º–Ω–µ–∑–µ (<1 –º–µ—Å)",
            "Caprini_–•–û–ë–õ": "–•–û–ë–õ",
            "Caprini_–û–Ω–∫–æ–ª–æ–≥–∏—è": "–û–Ω–∫–æ–ª–æ–≥–∏—è (—Ç–µ–∫—É—â–∞—è / —Ä–∞–Ω–µ–µ)",
            "Caprini_–ò–º–º–æ–±–∏–ª–∏–∑–∞—Ü–∏—è": "–ò–º–º–æ–±–∏–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω–µ—á–Ω–æ—Å—Ç–∏ (<1 –º–µ—Å)",
            "Caprini_–í–¢–≠–û_–∞–Ω–∞–º–Ω–µ–∑": "–ê–Ω–∞–º–Ω–µ–∑ –í–¢–≠–û (–¢–ì–í/–¢–≠–õ–ê)",
            "Caprini_–õ–µ–π–¥–µ–Ω": "–ú—É—Ç–∞—Ü–∏—è —Ñ–∞–∫—Ç–æ—Ä–∞ V (–õ–µ–π–¥–µ–Ω)",
            "Caprini_–ü—Ä–æ—Ç—Ä–æ–º–±–∏–Ω": "–ú—É—Ç–∞—Ü–∏—è –ø—Ä–æ—Ç—Ä–æ–º–±–∏–Ω–∞ 20210A",
            "Caprini_–í–æ–ª—á–∞–Ω–∫–∞": "–í–æ–ª—á–∞–Ω–æ—á–Ω—ã–π –∞–Ω—Ç–∏–∫–æ–∞–≥—É–ª—è–Ω—Ç",
            "Caprini_–°–µ–º–µ–π–Ω—ã–π_–í–¢–≠–û": "–°–µ–º–µ–π–Ω—ã–π –∞–Ω–∞–º–Ω–µ–∑ –í–¢–≠–û",
            "Caprini_–ì–æ–º–æ—Ü–∏—Å—Ç–µ–∏–Ω": "–ì–∏–ø–µ—Ä–≥–æ–º–æ—Ü–∏—Å—Ç–µ–∏–Ω–µ–º–∏—è",
            "Caprini_–ì–ò–¢": "–ì–µ–ø–∞—Ä–∏–Ω-–∏–Ω–¥—É—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ç—Ä–æ–º–±–æ—Ü–∏—Ç–æ–ø–µ–Ω–∏—è",
            "Caprini_–ê–Ω—Ç–∏–∫–∞—Ä–¥–∏–æ–ª–∏–ø–∏–Ω": "–ê–Ω—Ç–∏—Ç–µ–ª–∞ –∫ –∫–∞—Ä–¥–∏–æ–ª–∏–ø–∏–Ω—É",
            "Caprini_–¢—Ä–æ–º–±–æ—Ñ–∏–ª–∏—è": "–¢—Ä–æ–º–±–æ—Ñ–∏–ª–∏—è (–¥—Ä.)",
            "Caprini_–ò–Ω—Å—É–ª—å—Ç": "–ò–Ω—Å—É–ª—å—Ç (<1 –º–µ—Å)",
            "Caprini_–ü–∞—Ä–∞–ª–∏—á": "–ü–∞—Ä–∞–ª–∏—á / –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ —Å–ø–∏–Ω–Ω–æ–≥–æ –º–æ–∑–≥–∞ (<1 –º–µ—Å)",
            "Caprini_–ü—Ä–æ—á–µ–µ": "–ü—Ä–æ—á–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã —Ä–∏—Å–∫–∞"
        }

        col1, col2, col3 = st.columns(3)
        items = list(checkboxes.items())

        # –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç—Ä—ë–º –∫–æ–ª–æ–Ω–∫–∞–º
        for i, (key, label) in enumerate(items):
            col = [col1, col2, col3][i % 3]
            with col:
                st.session_state.patient_data[key] = st.checkbox(
                    label, value=st.session_state.patient_data.get(key, False)
                )

        st.markdown("### üè• –§–∞–∫—Ç–æ—Ä—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ–º:")

        interventional_checkboxes = {
            "Caprini_–ö–∞—Ç–µ—Ç–µ—Ä": "–ö–∞—Ç–µ—Ç–µ—Ä–∏–∑–∞—Ü–∏—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã—Ö –≤–µ–Ω",
            "Caprini_–ú–∞–ª–∞—è_—Ö–∏—Ä—É—Ä–≥–∏—è": "–ú–∞–ª–æ–µ —Ö–∏—Ä—É—Ä–≥–∏—á–µ—Å–∫–æ–µ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ",
            "Caprini_–ê—Ä—Ç—Ä–æ—Å–∫–æ–ø–∏—è": "–ê—Ä—Ç—Ä–æ—Å–∫–æ–ø–∏—á–µ—Å–∫–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è",
            "Caprini_–õ–∞–ø–∞—Ä–æ—Å–∫–æ–ø–∏—è": "–õ–∞–ø–∞—Ä–æ—Å–∫–æ–ø–∏—è > 60 –º–∏–Ω",
            "Caprini_–ë–æ–ª—å—à–∞—è_–æ–ø–µ—Ä–∞—Ü–∏—è": "–ë–æ–ª—å—à–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è > 45 –º–∏–Ω",
            "Caprini_–¢—Ä–∞–≤–º–∞": "–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç—Ä–∞–≤–º—ã (< 1 –º–µ—Å)",
            "Caprini_–≠–Ω–¥–æ–ø—Ä–æ—Ç–µ–∑": "–≠–Ω–¥–æ–ø—Ä–æ—Ç–µ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä—É–ø–Ω—ã—Ö —Å—É—Å—Ç–∞–≤–æ–≤",
            "Caprini_–ü–µ—Ä–µ–ª–æ–º": "–ü–µ—Ä–µ–ª–æ–º –∫–æ—Å—Ç–µ–π –∫–æ–Ω–µ—á–Ω–æ—Å—Ç–∏ –∏–ª–∏ —Ç–∞–∑–∞"
        }

        col4, col5, col6 = st.columns(3)
        items_int = list(interventional_checkboxes.items())

        for i, (key, label) in enumerate(items_int):
            col = [col4, col5, col6][i % 3]
            with col:
                st.session_state.patient_data[key] = st.checkbox(
                    label, value=st.session_state.patient_data.get(key, False)
                )
        if st.form_submit_button("‚úÖ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å"):
            st.success("–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã, –≤—ã –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—á–∫—É")
            time.sleep(1)
            next_router()

    show_button_down()
